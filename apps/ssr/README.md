å…ˆæ¥çœ‹ä¸€ä¸‹æ•´ä½“çš„æ•ˆæœ:

- é¢„è§ˆåœ°å€ï¼š [http://guangzhoujs.cn](http://guangzhoujs.cn)
- ä»“åº“åœ°å€ï¼š [https://github.com/guangzhoujs/guangzhoujs-cn](https://github.com/guangzhoujs/guangzhoujs-cn)
  æŠ€æœ¯æ ˆä¸ºï¼šNextjs13, Mobx, Antd, Ahooks, Bytemd, Tinymce-react, Tailwindcssç­‰

### 1. guangzhoujs.cn ä»‹ç»
`guangzhoujs.cn` å®šä½æœåŠ¡äºå¹¿å·æœ¬åœ°å‰ç«¯ç›¸å…³çŸ¥è¯†ä¿¡æ¯ç»¼åˆæ€§äº¤æµå¹³å°ï¼Œæ˜¯åŸºäºå½“ä¸‹æµè¡Œçš„`Nextjs`, `Go`ç›¸å…³æŠ€æœ¯æ¡†æ¶ä¸‹çš„äº§ç‰©ï¼Œåœ¨è¿™ä¸ªå¤§å‰æä¸‹ï¼ŒæŠ€æœ¯èåˆå’ŒåŠŸèƒ½å®ç°ä¸Šæ›´ä¸ºçµæ´»ã€‚`Nextjs`åœ¨ä½¿ç”¨`React`å¼€å‘çš„åŸºç¡€ä¸Šæ»¡è¶³äº†`SEO`çš„éœ€è¦ï¼Œ`Go`åœ¨ä¿è¯å“åº”é€Ÿåº¦çš„åŸºç¡€ä¸Šå ç”¨æœ€ä½çš„ç³»ç»Ÿèµ„æºã€‚
ç»“æœè™½ç„¶å¾ˆç¾ä¸½ï¼Œä½†è¿‡ç¨‹å¾ˆæ¼«é•¿ï¼Œä¸€ä¸ªæˆåŠŸä¸Šçº¿é¡¹ç›®çš„èƒŒåæ˜¯ä¸¤ä¸ªå¤±è´¥ä»“åº“çš„å¥ åŸºï¼ŒæŠ€æœ¯çš„é€‰å‹æœ‰ä»æœ€åˆçš„`nuxt3.rc1`å¼€å§‹ï¼Œåˆ°ä¸­æœŸæ›´æ–°åˆ°`rc10`ä¹‹åå°±è·‘ä¸èµ·æ¥çš„å¤±è´¥ï¼Œä¹Ÿæœ‰è¢«è¿«è½¬å‘`Nextjs.12`çš„æ— è€ã€‚è€Œ`Nextjs`åœ¨å¼€å‘å¿«è¦å®Œæˆçš„èŠ‚éª¨çœ¼ä¸Šæ–°ç‰ˆæœ¬13å‘å¸ƒï¼Œåˆæ˜¯ä¸€æ³¢éªšæ“ä½œï¼Œä»`Nextjs12`å¼ºæ€§å‡çº§åˆ°`Nextjs13`ç‰ˆæœ¬ï¼Œ[Next.js 13](https://secstep.com/next-js-13-published/) è™½ç„¶åŒ…å«äº† Turbopackï¼Œä½†ç›®å‰è¿˜æ˜¯`Alpha`é˜¶æ®µï¼Œæœ€åè¡¡é‡å†ä¸‰è¿˜æ˜¯æ²¡æœ‰å¯ç”¨æ–°çš„`Turopack`ï¼Œè¿˜æ˜¯å¥”ç€**éœ€æ±‚åšåŠ æ³•ã€å¼€å‘åšå‡æ³•**çš„åŸåˆ™å…ˆä¸Šçº¿å†ä¼˜åŒ–ã€‚é‚£è¿™ä¸ªç‰ˆæœ¬åªæ˜¯è®©`12`çš„ä»£ç åœ¨`13`çš„ç‰ˆæœ¬ä¸‹æ­£å¸¸è¿è¡Œèµ·æ¥ï¼Œ`Next13`çš„æ–°ç‰¹æ€§ç”¨åˆ°çš„å¹¶ä¸å¤šã€‚
![](https://s3.bmp.ovh/imgs/2022/12/25/05e2ae6f58889f01.png)

### 2. æŠ€æœ¯ä»‹ç»
#### 2.1 åŸºæœ¬ä»‹ç»
- [Nextjs](https://nextjs.org/)
  Nextjsçš„é¡¹ç›®æ•´ä½“å¼€å‘ä¸‹æ¥ï¼Œé™¤äº†ä¸Šçº¿é‡åˆ°ç‚¹å‘ä¹‹å¤–ï¼Œå…¶å®ƒæ–¹é¢åªè¦ä¼š`React Hooks`åŸºç¡€çš„æ–‡æ¡£çœ‹çœ‹éƒ½èƒ½å¼€å‘ã€‚é‚£åˆšå‘æ–°ç‰ˆä¸­æ–‡æ–‡æ¡£æ˜¯æ²¡æœ‰çš„ï¼Œç„¶åæˆ‘ç”¨è¿™æ¬¾ç¿»è¯‘è½¯ä»¶è¾…åŠ©ï¼š[è…¾è®¯äº¤äº’ç¿»è¯‘](https://transmart.qq.com/zh-CN/download)ã€‚[Nuxtjsä¸­æ–‡ç«™ç‚¹å…¥å£](https://www.nextjs.cn/)ã€‚

- [Tailwindcss](https://tailwindcss.com/docs/guides/nextjs)
  æœ¬æ¥æˆ‘è¿·æ‹äº`Unocss`çš„çµæ´»ï¼Œå¯æƒœåœ¨`Nextjs`ä¸­çƒ­æ›´æ–°è€æ˜¯å¤±å»å“åº”ï¼Œåªèƒ½æ¢å›`Tailwindcss`ï¼Œè™½ç„¶`Unocss`ä¹Ÿæä¾›äº†ä¸€ä¸ª`Nextjs`ä¸‹çš„[æ¡ˆä¾‹](https://github.com/unocss/unocss/blob/main/examples/next/next.config.js)ã€‚

- [Antd](https://ant.design/index-cn)
  `Antd`é€‰æ‹©çš„`4.x`ç‰ˆæœ¬ï¼Œè¿™ä¸ªç‰ˆæœ¬é‡åˆ°çš„é—®é¢˜æ˜¯åˆ†é¡µç»„ä»¶åœ¨Nextä¸‹è·³è½¬å¤±æ•ˆï¼Œæ‰€ä»¥å°±ç¿»é¡µåˆå¼•å…¥äº†å¦å¤–ä¸€ä¸ªUIç»„ä»¶åº“ï¼š[@nextui-org/react](https://nextui.org/)ï¼Œåªæ˜¯è¿™æ¬¾ç»„ä»¶è§†è§‰é£æ ¼ä¸Šæˆ‘ä¸ªäººæ„Ÿè§‰è¾ƒ`Antd`ç•¥ä¸ºç²—çŠ·ï¼Œæ‰€ä»¥åªä½¿ç”¨äº†åˆ†é¡µã€‚

- Icon
  é¡¹ç›®ä¸­çš„å›¾æ ‡é™¤äº†`@ant-design/icons`ä¹‹å¤–ï¼Œæœ¬ç€å›¾æ ‡é£æ ¼ä¸Šæœ‰æ›´å¤šçš„é€‰æ‹©ï¼Œæ‰€ä»¥å¼•å…¥äº†[@carbon/icons-react](https://carbondesignsystem.com/guidelines/icons/library/)ï¼Œæ•´ä½“ç”¨ä¸‹æ¥åŸºæœ¬æ»¡è¶³åŸºç¡€çš„å›¾æ ‡éœ€è¦ã€‚

- å¯Œæ–‡æœ¬ç¼–è¾‘å™¨
  é’ˆå¯¹ä¸åŒç”¨æˆ·çš„ä½¿ç”¨ä¹ æƒ¯åˆ†åˆ«æä¾›äº†ä¸¤æ¬¾è¾“å…¥ç¼–è¾‘å™¨ï¼Œä¸€æ¬¾ä¾›éä¸“ä¸šäººå£«ä½¿ç”¨ï¼Œæ¯”å¦‚Hrã€‚ä¸€æ¬¾ä¾›ä¸“ä¸šäººå£«ä½¿ç”¨ï¼Œæ¯”å¦‚ä¼šMarkdownè¯­æ³•çš„å°ä¼™ä¼´ï¼Œä»–ä»¬åˆ†åˆ«æ˜¯ï¼š

  - [@tinymce/tinymce-react](https://www.tiny.cloud/)
    Tinymceæ–°ç‰ˆéœ€è¦ç”³è¯·`api-key`ï¼Œéœ€è¦è¯´æ˜çš„æ˜¯åªç”³è¯·ä¸€ä¸ª`api-key`ï¼Œç„¶åå¯ä½¿ç”¨åœ¨å¤šåŸŸååœºæ™¯ä¸‹ï¼Œåªéœ€è¦åœ¨`tiny`å®˜ç½‘æ·»åŠ å³å¯ï¼Œç™»å½•ä¹‹ååœ¨ [MY ACCOUNT / Approved Domains](https://www.tiny.cloud/my-account/domains/) ä¸­æ·»åŠ ï¼Œç”³è¯·ä¹Ÿæ˜¯è¿™ä¸ªåœ°å€ã€‚
  - [@bytemd/react](https://github.com/bytedance/bytemd)
    bytemdæ˜¯å­—èŠ‚å¼€å‘çš„ä¸€æ¬¾å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå¯ç”¨äºvue,reactï¼Œä¸»é¢˜å¯ä»¥ä½¿ç”¨[juejin-markdown-themes](juejin-markdown-themes)ï¼Œè™½ç„¶åå«juejinï¼Œå…¶å®ƒé‡Œè¾¹æœ‰å¾ˆå¤šé£æ ¼çš„cssé€‰æ‹©ï¼Œå…·ä½“åœ¨è¿™ä¸ª `node_modules\juejin-markdown-themes\dist` ç›®å½•ä¸‹ã€‚

- [qrcode.react](https://github.com/zpao/qrcode.react)
  å…¶ä¸­ä¸€ä¸ªé¡µé¢éœ€è¦åˆ†äº«å±•ç¤ºç”¨åˆ°äºŒç»´ç ï¼Œç”¨çš„è¿™æ¬¾ï¼ŒæŒ‰ç…§æ–‡æ¡£ä½¿ç”¨èµ·æ¥ä¹Ÿæ²¡æœ‰å¤§çš„é—®é¢˜ã€‚

- [react-copy-to-clipboard](https://github.com/nkbt/react-copy-to-clipboard)
  æŒ‰é’®å¤åˆ¶ç”¨è¿™æ¬¾ï¼Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¤§çš„é—®é¢˜ã€‚

- [react-infinite-scroll-component](https://github.com/ankeetmaini/react-infinite-scroll-component)
  æ»šåŠ¨åŠ è½½ç”¨åˆ°äº†è¿™æ¬¾ï¼Œå‡ºç°çš„é—®é¢˜æ˜¯å‡ºç°æ»šåŠ¨æ¡ï¼Œæ·»åŠ æ ·å¼å¼ºåˆ¶æ˜¾ç¤ºå³å¯éšè—æ»šåŠ¨æ¡ã€‚
```javascript
<InfiniteScroll style={{ overflow: 'visible' }} >
```

#### 2.2 æŠ€æœ¯æ ˆ
æŠ€æœ¯ | è¯´æ˜ | å®˜ç½‘
----|----|----
Nextjs | Reactåº”ç”¨å¼€å‘æ¡†æ¶ | [https://nextjs.org/](https://nextjs.org/)
Mobx | å…¨å±€çŠ¶æ€ç®¡ç†æ¨¡å¼ | [https://mobx.js.org/](https://mobx.js.org/)
Mobx-react-lite | mobx-reactçš„è½»é‡åŒ–ç‰ˆæœ¬ | [https://github.com/mobxjs/mobx-react-lite](https://github.com/mobxjs/mobx-react-lite)
Axios | HTTP åº“ | [https://github.com/axios/axios](https://github.com/axios/axios)
Ant-design | UIç»„ä»¶åº“ | [https://ant-design.gitee.io/](https://ant-design.gitee.io/)
Nextui | UIç»„ä»¶åº“ | [https://nextui.org/](https://nextui.org/)
Ahooks | React Hooks åº“ | [https://ahooks.js.org/](https://ahooks.js.org/)
Bytemd | Markdownç¼–è¾‘å™¨ | [https://github.com/bytedance/bytemd](https://github.com/bytedance/bytemd)
Tinymce | å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ | [https://www.tiny.cloud/](https://www.tiny.cloud/)
Dayjs | JavaScript æ—¥æœŸå¤„ç†ç±»åº“ | [https://day.js.org/zh-CN/](https://day.js.org/zh-CN/)
SCSS | CSSé¢„å¤„ç†å™¨ | [https://sass-lang.com/](https://sass-lang.com/)
Carbon | å›¾æ ‡å­—ä½“åº“  | [https://carbondesignsystem.com/guidelines/icons/library/](https://carbondesignsystem.com/guidelines/icons/library/)
Qrcode | äºŒç»´ç  | [https://github.com/zpao/qrcode.react](https://github.com/zpao/qrcode.react)
React-copy-to-clipboard | å¤åˆ¶ | [https://github.com/nkbt/react-copy-to-clipboard](https://github.com/nkbt/react-copy-to-clipboard)
React-infinite-scroll-component | æ»šåŠ¨åŠ è½½ | [https://github.com/ankeetmaini/react-infinite-scroll-component](https://github.com/ankeetmaini/react-infinite-scroll-component)
Tailwindcss | åŸå­CSSåº“ | [https://tailwindcss.com/docs/guides/nextjs](https://tailwindcss.com/docs/guides/nextjs)
Juejin-markdown-themes | æ˜é‡‘ Markdown ä¸»é¢˜ | [https://github.com/xitu/juejin-markdown-themes](https://github.com/xitu/juejin-markdown-themes)
Typescript | ç±»å‹çº¦æŸ | [https://www.typescriptlang.org/](https://www.typescriptlang.org/)

#### 2.3 å¼€å‘å·¥å…·

ç³»ç»Ÿ | å·¥å…· | å®˜ç½‘
----|----|----
VScode | ä¸»å¼€å‘å·¥å…· | [https://code.visualstudio.com/](https://code.visualstudio.com/)
Webstorm | è¾…å¼€å‘å·¥å…· | [https://www.jetbrains.com/webstorm/](https://www.jetbrains.com/webstorm/)
Atom | æºç é˜…è¯» | [https://atom.io/](https://atom.io/)
Cmder | Cmdæ›¿ä»£å·¥å…·[windows] | [https://cmder.net/](https://cmder.net/)
Notepad2 | å•æ–‡ä»¶ç¼–è¾‘[windows] | [http://www.flos-freeware.ch/notepad2.html](http://www.flos-freeware.ch/notepad2.html)
Coteditor | å•æ–‡ä»¶ç¼–è¾‘[mac] | [https://coteditor.com/](https://coteditor.com/)
Chrome | è°ƒè¯•å·¥å…· | [https://www.google.com/intl/zh-CN/chrome/](https://www.google.com/intl/zh-CN/chrome/)


#### 2.4 æ–‡ä»¶ç»“æ„

```javascript
â”œâ”€.next // å‘å¸ƒç›®å½•
â”‚  â”œâ”€server
â”‚  â””â”€static
â”œâ”€api // è¯·æ±‚æ–‡ä»¶
â”œâ”€bc // ä¸šåŠ¡ç»„ä»¶
â”œâ”€components // å…¬å…±ç»„ä»¶
â”œâ”€config // é…ç½®
â”œâ”€context
â”œâ”€hooks 
â”œâ”€icons  // svg
â”œâ”€layouts // å¸ƒå±€æ–‡ä»¶
â”œâ”€pages // é¡µé¢
â”‚  â”œâ”€article
â”‚  â”œâ”€editor
â”‚  â”œâ”€help
â”‚  â”œâ”€hero
â”‚  â”œâ”€job
â”‚  â””â”€user
â”œâ”€providers
â”œâ”€public // é™æ€èµ„æº
â”œâ”€store
â”œâ”€styles // æ‰€æœ‰ Scss æ–‡ä»¶
â”œâ”€types
â””â”€utils // å·¥å…·æ–‡ä»¶
```

#### 2.5 å¦‚ä½•åœ¨æœ¬åœ°è¿è¡Œ
æ ¹ç›®å½•ä¸‹è¿è¡Œ `npm install`ï¼Œç„¶åè¿è¡Œ `npm dev`
```
// åˆ‡æ¢ç¯å¢ƒ
nvm install 17.0.0
nvm use 17.0.0

// å®‰è£…ä¾èµ–
npm install

// å¯åŠ¨é¡¹ç›®
npm start

// æ¸…é™¤ node_modules
npm run clean

// å…¨å±€å®‰è£… rimraf ä¹‹åæ–¹å¯ä½¿ç”¨
npm i rimraf -g

// æ¸…é™¤ node_modules é‡æ–°å®‰è£…ä¾èµ–
// ç­‰åŒäº npm run clean && npm install
npm run reinstall

```

#### 2.6 å¦‚ä½•å‘å¸ƒä¸Šçº¿
æ¯”è¾ƒå¤§çš„ä¸€å‘ï¼Œ`Nextjs`çš„å¼€å‘è¿è¡Œç›®å½•å’Œæ‰“åŒ…ä¸Šçº¿ç›®å½•éƒ½æ˜¯`.next`ï¼Œæ‰€ä»¥ï¼Œæ‰“åŒ…è¾“å‡ºç»“æœè¦ä»”ç»†çœ‹ï¼Œè¦ä¸ç„¶ä¼šæŠŠå¼€å‘æ—¶è¿è¡Œçš„æ–‡ä»¶è¯¯ä¸Šä¼ ã€‚

##### 2.6.1 Nginxé…ç½®
å…ˆåœ¨nginxå¢åŠ é…ç½®ï¼Œè½¬å‘`nextjs`çš„å¯åŠ¨ç«¯å£ã€‚
`Nextjs`è™½ç„¶æ”¯æŒ`basePath`è¿›è¡ŒäºŒçº§ç›®å½•çš„éƒ¨ç½²ï¼Œå¯æƒœä¸€åˆ·æ–°åˆå‡ºç°`basePath`è·¯å¾„æ‰¾ä¸åˆ°çš„æƒ…å†µï¼Œåªèƒ½æ ¹ç›®å½•éƒ¨ç½²ã€‚

```javascript
location / {
  proxy_pass http://127.0.0.1:3600/;
  proxy_http_version 1.1;
  proxy_set_header Host $host;
}
```

##### 2.6.2 å¯åŠ¨Nextjs
æ ¹ç›®å½•æ–°å»º`ecosystem.config.js`ï¼Œç„¶åç”¨pm2å¯åŠ¨è¿™ä¸ªæ–‡ä»¶å°±å¯ä»¥äº†ã€‚

```javascript
 module.exports = {
    apps: [{
        name: 'gzjs-ssr',
        script: 'npm',
        args: 'start',
        cwd: '/www/wwwroot/guangzhoujs.cn',
        autorestart: true,
        watch: false,
        max_memory_restart: '1G',
        env: {
            NODE_ENV: 'development'
        },
        env_production: {
            NODE_ENV: 'production',
            BASE_PATH: "",
            PORT: 3600
        }
    }]
}
```
ç„¶åæ ¹æ®åŸŸåè®¿é—®ï¼Œå¦‚æœå‡ºç°500ï¼Œè¯´æ˜Nextå¯åŠ¨æœ‰é—®é¢˜ï¼ŒæŸ¥çœ‹`Nginx`æ—¥å¿—è¿›è¡Œæ’é”™ã€‚

##### 2.6.3 å‘å¸ƒé—®é¢˜

- Favicon å›¾ç‰‡ä¸èƒ½æ‹·è´åˆ°å‘å¸ƒç›®å½•
  å°±ç®—å®‰è£…`url-loader`ä¹Ÿä¸èƒ½è§£å†³ï¼Œè§£å†³åŠæ³•ï¼Œè½¬æ¢ä¸ºBase64å›¾ç‰‡ï¼Œåçœ‹æ–‡æ¡£ä¹Ÿå¯ä»¥ç”¨`Image`ï¼Œæœªè¯•å­˜ç–‘ä¸­ã€‚
- å›¾ç‰‡è·¯å¾„
  è¦ä¸ç„¶ï¼Œå›¾ç‰‡è·¯å¾„ä¸¢å¤±
```javascript
import Image from 'next/image'
import Logo from '@/public/images/logo.png'
```
- [æ‰‹å·¥è°ƒæ•´buildid](https://nextjs.org/docs/api-reference/next.config.js/configuring-the-build-id)
  Nextjså‰å°é™æ€èµ„æºä¼šè¯†åˆ«ç‰ˆæœ¬ä¿¡æ¯ï¼Œæœ€ç»ˆå½±å“ç”Ÿæˆç›®å½•è·¯å¾„åœ¨ `/.next/static`ä¸‹ï¼Œå¯ä»¥æ‰‹å·¥ä¿®æ”¹ä¹Ÿå¯ä»¥æ˜¯`Git commit id`ã€‚
```javascript
generateBuildId: async () => 'v3',
```
- image
  imagesä¸­æ·»åŠ å…è®¸åŸŸå
```javascript
images: {
    domains: ['guangzhoujs.cn'],
},
```
- package.json
  éœ€è¦ä¸Šä¼ `package.json`åˆ°æ ¹ç›®å½•ç„¶ååœ¨æœåŠ¡ç«¯å…¨é‡å®‰è£…`node_modules`
- Nginx ç¼“å­˜
  åœ¨å…¶å®ƒæœºå‹ä¸Šæ²¡æœ‰ç¢°åˆ°è¿™ä¸ªé—®é¢˜ï¼Œåªæœ‰åœ¨è…¾è®¯äº‘ä¸Šç¢°åˆ°è¿™ä¸ªé—®é¢˜ï¼Œä»£ç†è½¬å‘æœ‰ç¼“å­˜ï¼Œéœ€è¦æ¸…ç›®å½•åæ€æ‰è¿›ç¨‹åå¯åŠ¨nginx
```
$ cd /www/server/nginx/proxy_cache_dir // nginxç¼“å­˜ç›®å½•
$ pkill nginx // å¼ºåˆ¶å…³é—­
$ /etc/init.d/nginx start // å¯åŠ¨
$ /etc/init.d/nginx stop
$ /etc/init.d/nginx restart
```


### 3. å¼€å‘ä»‹ç»

#### 3.1 åŸºæœ¬ä»‹ç»

- åŸºç¡€çš„å·¥ç¨‹é‡‡ç”¨`Pnpm Monorepo`çš„æ–¹å¼æ¥æ­å»ºï¼Œåœ¨æ»¡è¶³åŸºç¡€å¼€å‘çš„éœ€æ±‚ä¸Šèƒ½å¤Ÿçµæ´»æ‰©å±•æ¨¡å—ï¼Œå¹¶ä¿æŒä»£ç è§£è€¦ã€‚è¿™æ–¹é¢å…¶å®ƒå¤§ä½¬å·²ç»èµ°åœ¨å‰é¢ï¼š

  - [Laffery - åŸºäºpnpmæ­å»ºmonorepoé¡¹ç›®](https://juejin.cn/post/7084582387060834340)
  - [BestAns - pnpm + workspace + changesets æ„å»ºä½ çš„ monorepo å·¥ç¨‹](https://juejin.cn/post/7098609682519949325)

- ç”±äºæ•´ä½“æ˜¯`React`çš„ç›¸å…³æŠ€æœ¯æ ˆï¼Œè®¡åˆ’å¸®åŠ©æ–‡æ¡£éƒ¨åˆ†ç”±[dumi](https://d.umijs.org/)æ¥å®ç°ï¼Œå¯ä»¥å¿«é€Ÿçš„å°†[Markdown](https://markdown.com.cn/intro.html)è½¬åŒ–ä¸ºé¡µé¢ï¼Œå…¥å£åœ°å€ç”±[Nginx](https://www.digitalocean.com/community/tools/nginx?global.app.lang=zhCN)æ¥å®‰æ’ã€‚

#### 3.2 çº¦å®šå¼è·¯ç”±
çº¦å®šå¼è·¯ç”±å¼çš„å¼€å‘ï¼Œå³ `pages`ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å¤¹å±‚çº§ä¸ºè·¯ç”±è®¿é—®è·¯å¾„ã€‚æ¯”å¦‚ `pages/article/index.tsx`ï¼Œé‚£è®¿é—®çš„è·¯å¾„å°±æ˜¯`https://guangzhoujs.cn/article`ã€‚
`pages`ä¸­é™¤äº†è·¯ç”±æ–‡ä»¶ä¹‹å¤–ä¸å»ºè®®æ”¾å…¶å®ƒæ–‡ä»¶ï¼Œè¦æ”¾å…¶å®ƒæ‰©å±•åæ–‡ä»¶è¿˜éœ€è¦åœ¨`next.config.js`ä¸­å¢åŠ [é…ç½®](https://nextjs.org/docs/api-reference/next.config.js/custom-page-extensions)ã€‚
```javascript
module.exports = {
  pageExtensions: ['mdx', 'jsx', 'js', 'ts', 'tsx']
}
```

#### 3.3 åŸºç¡€å¸ƒå±€
åŸºç¡€çš„å¸ƒå±€ç”±`Layouts`è´Ÿè´£ï¼Œå…±æœ‰è¿™å‡ ä¸ªï¼š

- home
  è´Ÿè´£åŸºç¡€é¡µé¢çš„ä¸Šä¸­ä¸‹å¼å¸ƒå±€
- user
  è´Ÿè´£ç”¨æˆ·ä¸­å¿ƒå·¦å³å¼å¸ƒå±€

#### 3.4 è·å–æ•°æ®
`Nextjs` å…±æœ‰ä¸¤ç§æ¸²æŸ“æ¨¡å¼ï¼Œè¿™ä¸¤ä¸ªæ¨¡å¼ä¸‹æœ‰ä¸¤ç§è·å–æ•°æ®çš„æ–¹å¼

- é™æ€æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ï¼Œå³åœ¨æ„å»ºæ—¶ç”Ÿæˆ htmlï¼Œå¹¶æ¯æ¬¡è¯·æ±‚æ—¶å¤ç”¨
  - `getStaticProps` é™æ€æ¨¡å¼ä¸‹ä½¿ç”¨ï¼Œåœ¨æ„å»ºæ—¶ä¼šè°ƒç”¨è¯¥å‡½æ•°è·å–æ•°æ®å¹¶è¿”å›åˆ° propsï¼Œä¼šåœ¨æ„å»ºæ—¶æ¸²æŸ“ç”Ÿæˆ html
  - `getStaticProps` ä¸­çš„ context å‚æ•°åŒ…å«äº†å¸¸ç”¨çš„è¯·æ±‚çš„ paramsï¼Œpreviewï¼ŒpreviewDataï¼Œlocale ç­‰å‚æ•°
- æœåŠ¡å™¨ç«¯æ¸²æŸ“æ¨¡å¼ï¼Œå³æ¯æ¬¡è¯·æ±‚æ—¶åœ¨æœåŠ¡å™¨ç«¯é‡æ–°ç”Ÿæˆ htmlã€‚
  - `getServerSideProps` æœåŠ¡å™¨ç«¯æ¸²æŸ“æ¨¡å¼ä¸‹ä½¿ç”¨ï¼Œä¼šåœ¨æ¯æ¬¡è¯·æ±‚æ—¶å…ˆè·å–æ•°æ®ï¼Œæ¥ç€é‡æ–°ç”Ÿæˆ html åå†å°†é¡µé¢è¿”å›åˆ°å®¢æˆ·ç«¯ã€‚
  - `getServerSideProps` ä¸­çš„ context å‚æ•°åŒ…å«äº†å¸¸ç”¨çš„è¯·æ±‚çš„ reqã€resã€paramsã€query ç­‰å‚æ•°

- axios
  é¡µé¢ä¸Šåœ¨`useEffect`ä¸­å¼‚æ­¥è·å–æ•°æ®ï¼Œè¿™å—çš„ä»£ç æ„æ€æ˜¯åœ¨æµè§ˆå™¨ç«¯è¿è¡Œäº†ã€‚

#### 3.5 SEOå¢å¼º

é€šè¿‡ `next/head` ç»„ä»¶å¢åŠ é¡µé¢çš„`meta` çš„ `keywords, description` æ ‡ç­¾ã€‚

#### 3.6 æ›´æ–°åˆ°Next.js 13

- Titleå˜åŒ–

Next.js 12
```html
<title>é¦–é¡µ - {title}</title>
```
Next.js 13
```html
`<title>{`é¦–é¡µ - ${title}`}</title>`
```
- Linkçš„å˜åŒ–

Next.js 12
```html
<Link href=""><a target="_blank" rel="noreferrer">{title}</a></Link>
```
Next.js 13
```html
<Link href="" target="_blank" rel="noreferrer">{title}</Link>
```
[ç”¨è¿™ä¸ªå‘½ä»¤å…¨å±€æ›¿æ¢](https://stackoverflow.com/questions/71422463/how-to-fix-unexpected-behavior-of-next-link-when-it-is-a-child-of-a-button)ï¼Œç„¶åå…¨å±€æ ¡éªŒ`Eslint`
```
$ npx @next/codemod new-link .
```
- todo
- todo
- todo
- todo


å¦‚æœè¿˜æƒ³æ‰¾å›æ­¤æ–‡ï¼Œæ‚¨å¯ä»¥ç‚¹å³ä¸Šè§’ ğŸ’–Star ğŸ’– æ”¶è— + æ”¯æŒ
